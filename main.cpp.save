#include <iostream>
#include "NicMeasurePensando.h"

using namespace std;

int main() {
  string name{"myniccard"};
  NicMeasurePensando nic{name};

  unsigned long cnp = 0;

  try
  {
    cnp = nic.GetCNPCount();
  }
  catch (const string& err)
  {
    cout << "Error" << endl;
    exit(1);
  }
  // cout << "cnp = " << cnp << endl;
  json json_out;
  json_out["nic"] = name.c_str();
  json_out["CNP"] = cnp;
  cout << json_out.dump(2) << endl;
  return 0;
}
